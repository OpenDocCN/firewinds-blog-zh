<html>
<head>
<title>Polaris vs. KubeLinter</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>北极星对库贝林特</h1>
<blockquote>原文：<a href="https://www.fairwinds.com/blog/polaris-vs-kubelinter#2021-02-25">https://www.fairwinds.com/blog/polaris-vs-kubelinter#2021-02-25</a></blockquote><div><span id="hs_cos_wrapper_post_body" class="hs_cos_wrapper hs_cos_wrapper_meta_field hs_cos_wrapper_type_rich_text" data-hs-cos-general-type="meta_field" data-hs-cos-type="rich_text"><p>识别Kubernetes的错误配置可以帮助您确保您的集群是安全、高效和可靠的。Fairwinds的<a href="https://polaris.docs.fairwinds.com/" rel="noopener" target="_blank"><span>【Polaris】</span></a>是我们团队创建的开源工具，用于帮助我们管理<a href="//www.fairwinds.com/customer-stories"> <span>客户</span> </a>的数百个生产工作负载。它运行各种检查，以确保Kubernetes pods和控制器使用Kubernetes最佳实践进行配置，从而帮助避免工作负载配置问题。</p>

<p>您可以在每个集群中安装Polaris来识别错误配置。如果您需要多集群可见性，我们有一条<a href="https://www.fairwinds.com/fairwinds-polaris-upgrade"> <span>升级</span> </a>到Fairwinds Insights的路径，其中不仅包含北极星，还包含其他开源工具，包括:</p>
<ul>
<li aria-level="1">
<p><a href="https://github.com/FairwindsOps/pluto" rel="noopener" target="_blank"> <span>冥王星</span> </a>(识别弃用的K8S资源)</p>
</li>
<li aria-level="1">
<p><a href="https://github.com/FairwindsOps/Nova" rel="noopener" target="_blank"> <span> Nova </span> </a>(查找过时或弃用的舵图)</p>
</li>
<li aria-level="1">
<p><a href="https://github.com/aquasecurity/trivy" rel="noopener" target="_blank"> <span> Trivy </span> </a>(针对容器的漏洞扫描器)</p>
</li>
<li aria-level="1">
<p><a href="https://github.com/FairwindsOps/goldilocks" rel="noopener" target="_blank"><span/></a>(建议资源请求和限制)</p>
</li>
</ul>
<p>这不仅允许您跨多个集群、团队和环境管理Kubernetes的错误配置，还可以识别问题、提醒团队(通过仪表板或Slack集成)并建议补救措施。</p>
<p>KubeLinter是2020年末推出的新开源工具。KubeLinter分析Kubernetes YAML文件和舵图，并对照各种最佳实践进行检查，重点是生产就绪性和安全性。</p>
<p>如果你正在比较北极星和库伯林特，这里有一个快速的检查纲要。(截至2011年2月23日的对比)</p>
<table cellpadding="4" border="1">
<tbody>
<tr>
<td>
<p><span> <strong>北极星</strong>T3】</span></p>
</td>
<td>
<p><span><strong/>库贝林特</span></p>
</td>
<td>
<p><span> <strong>描述</strong> </span></p>
</td>
</tr>
<tr>
<td>
<p><strong>安全</strong></p>
</td>
<td> </td>
<td> </td>
</tr>
<tr>
<td>
<p>是</p>
</td>
<td>
<p>不</p>
</td>
<td>
<p>security context . allowprivilegescalation</p>
</td>
</tr>
<tr>
<td>
<p>是</p>
</td>
<td>
<p>不</p>
</td>
<td>
<p>缺少TLS设置</p>
</td>
</tr>
<tr>
<td>
<p>是</p>
</td>
<td>
<p>不</p>
</td>
<td>
<p>主机端口属性已配置</p>
</td>
</tr>
<tr>
<td>
<p>是</p>
</td>
<td>
<p>不</p>
</td>
<td>
<p>PID属性已配置</p>
</td>
</tr>
<tr>
<td>
<p>是</p>
</td>
<td>
<p>不</p>
</td>
<td>
<p>主机网络已配置</p>
</td>
</tr>
<tr>
<td>
<p>是</p>
</td>
<td>
<p>不</p>
</td>
<td>
<p>主机IPC已配置</p>
</td>
</tr>
<tr>
<td>
<p>是</p>
</td>
<td>
<p>不</p>
</td>
<td>
<p><a href="https://github.com/FairwindsOps/polaris/blob/master/checks/insecureCapabilities.yaml"> <span>【危险能力(此处阅读列表)</span> </a></p>
</td>
</tr>
<tr>
<td>
<p>是</p>
</td>
<td>
<p>不</p>
</td>
<td>
<p>不安全的功能包括</p>
</td>
</tr>
<tr>
<td>
<p>是</p>
</td>
<td>
<p>是</p>
</td>
<td>
<p>不删除NET_RAW功能的容器</p>
</td>
</tr>
<tr>
<td>
<p>是</p>
</td>
<td>
<p>是</p>
</td>
<td>
<p>以特权身份运行的容器</p>
</td>
</tr>
<tr>
<td>
<p>是</p>
</td>
<td>
<p>是</p>
</td>
<td>
<p>未运行readOnlyRootFilesystem的容器</p>
</td>
</tr>
<tr>
<td>
<p>是</p>
</td>
<td>
<p>是</p>
</td>
<td>
<p>容器设置为runAsNonRoot</p>
</td>
</tr>
<tr>
<td>
<p>不</p>
</td>
<td>
<p>是</p>
</td>
<td>
<p>对象使用环境变量中的机密</p>
</td>
</tr>
<tr>
<td>
<p>不</p>
</td>
<td>
<p>是</p>
</td>
<td>
<p>没有“电子邮件”注释但有有效电子邮件的对象</p>
</td>
</tr>
<tr>
<td>
<p>不</p>
</td>
<td>
<p>是</p>
</td>
<td>
<p>缺少“所有者”标签</p>
</td>
</tr>
<tr>
<td>
<p>不</p>
</td>
<td>
<p>是</p>
</td>
<td>
<p>将主机路径装载为可写的容器</p>
</td>
</tr>
<tr>
<td>
<p>不</p>
</td>
<td>
<p>是</p>
</td>
<td>
<p>公开端口22的部署，通常保留用于SSH访问</p>
</td>
</tr>
<tr>
<td>
<p>不</p>
</td>
<td>
<p>是</p>
</td>
<td>
<p>Pods使用默认服务帐户</p>
</td>
</tr>
<tr>
<td>
<p><strong>效率</strong></p>
</td>
<td>是</td>
<td>是</td>
</tr>
<tr>
<td>
<p>缺少内存请求和限制</p>
</td>
<td>
<p>是</p>
</td>
<td>
<p>是</p>
</td>
</tr>
<tr>
<td>
<p>缺少CPU请求和限制</p>
</td>
<td>
<p><strong>可靠性</strong></p>
</td>
<td>
<p>是</p>
</td>
</tr>
<tr>
<td>
<p>不</p>
</td>
<td>图像标签未指定或最新</td>
<td>是</td>
</tr>
<tr>
<td>
<p>不</p>
</td>
<td>
<p>映像获取策略未设置为“始终”</p>
</td>
<td>
<p>是</p>
</td>
</tr>
<tr>
<td>
<p>不</p>
</td>
<td>
<p>没有为pod设置PriorityClassName</p>
</td>
<td>
<p>是</p>
</td>
</tr>
<tr>
<td>
<p>不</p>
</td>
<td>
<p>只有一个副本集用于部署</p>
</td>
<td>
<p>是</p>
</td>
</tr>
<tr>
<td>
<p>是</p>
</td>
<td>
<p>缺少活性探测</p>
</td>
<td>
<p>是</p>
</td>
</tr>
<tr>
<td>
<p>是</p>
</td>
<td>
<p>缺少就绪探测</p>
</td>
<td>
<p>没有；<a href="https://github.com/FairwindsOps/pluto" rel="noopener" target="_blank">冥王星</a>手柄</p>
</td>
</tr>
<tr>
<td>
<p>是</p>
</td>
<td>
<p>在扩展v1beta下使用不推荐使用的API版本的对象</p>
</td>
<td>
<p>不</p>
</td>
</tr>
<tr>
<td>
<p>是</p>
</td>
<td>
<p>未指定单元间反关联性的多个副本，以确保orchestrator尝试在不同的</p>
</td>
<td>
<p>不</p>
</td>
</tr>
<tr>
<td>
<p>是</p>
</td>
<td>
<p>引用未找到的服务帐户的窗格</p>
</td>
<td>
<p>不</p>
</td>
</tr>
<tr>
<td>
<p>是</p>
</td>
<td>
<p>选择器与pod模板标签不匹配</p>
</td>
<td>
<p>不</p>
</td>
</tr>
<tr>
<td>
<p>是</p>
</td>
<td>
<p>没有匹配部署的服务</p>
</td>
<td>
<p>不</p>
</td>
</tr>
<tr>
<td>
<p>是</p>
</td>
<td>
<p>部署使用不推荐使用的serviceAccount字段</p>
</td>
<td>
<p><span class="hs-cta-wrapper" id="hs-cta-wrapper-0a801c86-38f7-468e-aad9-ce5bc41dc69b"><span class="hs-cta-node hs-cta-0a801c86-38f7-468e-aad9-ce5bc41dc69b" id="hs-cta-0a801c86-38f7-468e-aad9-ce5bc41dc69b"><a href="https://cta-redirect.hubspot.com/cta/redirect/2184645/0a801c86-38f7-468e-aad9-ce5bc41dc69b"><img class="hs-cta-img" id="hs-cta-img-0a801c86-38f7-468e-aad9-ce5bc41dc69b" src="../Images/985ac214d57c5bf773f314566431f015.png" alt="New call-to-action" data-original-src="https://no-cache.hubspot.com/cta/default/2184645/0a801c86-38f7-468e-aad9-ce5bc41dc69b.png"/></a></span></span><br/><br/></p>
</td>
</tr>
<tr>
<td>
<p>No</p>
</td>
<td>
<p>Yes</p>
</td>
<td>
<p>Deployments use deprecated serviceAccount field</p>
</td>
</tr>
</tbody>
</table>
<p><span class="hs-cta-wrapper" id="hs-cta-wrapper-0a801c86-38f7-468e-aad9-ce5bc41dc69b"><span class="hs-cta-node hs-cta-0a801c86-38f7-468e-aad9-ce5bc41dc69b" id="hs-cta-0a801c86-38f7-468e-aad9-ce5bc41dc69b"><a href="https://cta-redirect.hubspot.com/cta/redirect/2184645/0a801c86-38f7-468e-aad9-ce5bc41dc69b"><img class="hs-cta-img" id="hs-cta-img-0a801c86-38f7-468e-aad9-ce5bc41dc69b" src="../Images/985ac214d57c5bf773f314566431f015.png" alt="New call-to-action" data-original-src="https://no-cache.hubspot.com/cta/default/2184645/0a801c86-38f7-468e-aad9-ce5bc41dc69b.png"/></a></span></span><br/><br/></p></span></div>    
</body>
</html>