<html>
<head>
<title>Check Kubernetes Pod SecurityContext for readOnlyRootFilesystem</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>检查Kubernetes Pod SecurityContext中的readOnlyRootFilesystem</h1>
<blockquote>原文：<a href="https://www.fairwinds.com/blog/check-kubernetes-pod-securitycontext-for-readonlyrootfilesystem#2023-01-10">https://www.fairwinds.com/blog/check-kubernetes-pod-securitycontext-for-readonlyrootfilesystem#2023-01-10</a></blockquote><div><span id="hs_cos_wrapper_post_body" class="hs_cos_wrapper hs_cos_wrapper_meta_field hs_cos_wrapper_type_rich_text" data-hs-cos-general-type="meta_field" data-hs-cos-type="rich_text"><p>Kubernetes pod安全策略支持围绕pod创建和更新的细粒度控制。<span> <code><a href="https://kubernetes.io/docs/tasks/configure-pod-container/security-context/">securityContext</a></code> </span>定义了一组pod运行时的约束条件。</p>

<p><code><span>readOnlyRootFilesystem</span></code>是一个控制容器是否能够写入其文件系统的设置。这是在发生黑客攻击时最希望启用的功能——如果攻击者进入，他们将无法篡改应用程序或将外来可执行文件写入磁盘。</p>
<p><a href="https://kubernetes.io/docs/tasks/configure-pod-container/security-context/"> <span> Kubernetes安全最佳实践</span> </a>提供关于配置pod或集装箱的<span> <code>ReadOnlyRootFilesystem</code> </span>的指导。因此，虽然该功能对于Kubernetes安全性至关重要，但如果您的用户没有部署将<code><span>securityContext</span></code>设置为<span> <code>readOnlyRootFilesystem?</code> </span>的pod，那么会发生什么呢？最好的情况是，您的团队发现了这一点并应用了策略，最坏的情况是您的pod被黑客攻击。可能最好识别那些没有以只读方式运行的pod。</p>
<h2><strong>自动检查notReadOnlyRootFilesystem </strong></h2>
<p>手动检查每个pod的<span> <code>securityContext</code> </span>容易出现人为错误且耗时。使用策略执行工具自动化这一过程有助于降低Kubernetes的安全风险。</p>
<p>Fairwinds Insights是一个策略驱动的配置验证平台(社区版免费使用)，允许负责Kubernetes的团队识别何时设置了不正确的安全上下文。</p>
<blockquote>
<p>Fairwinds Insights永远免费使用。搞定这里的<a href="https://www.fairwinds.com/coming-soon" rel="noopener"><span/></a><span>。</span></p>
</blockquote>
<p>Fairwinds Insights是一款SaaS解决方案，它会根据您的要求自动扫描集群，以检查缺失的安全上下文。您的团队节省了识别和跟踪特权容器的时间，并能够利用这些时间来补救问题。</p>
<p>一旦安装了Fairwinds Insights代理，您将在5-10分钟内获得结果。当<span> <code>securityContext.readOnlyRootFilesystem</code> </span>不真实时，Fairwinds的见解会提供警告。您还可以使用Fairwinds Insights来确保在整个部署过程中执行策略，以便为每个pod设置安全上下文。这样，通过从CI/CD到生产扫描您的配置，您将降低安全事故的风险。策略驱动的配置验证平台确保Kubernetes安全最佳实践在组织范围内得到遵循。</p>
<p><span class="hs-cta-wrapper" id="hs-cta-wrapper-34aa4987-a1f9-438a-a145-d7d82d5c479a"><span class="hs-cta-node hs-cta-34aa4987-a1f9-438a-a145-d7d82d5c479a" id="hs-cta-34aa4987-a1f9-438a-a145-d7d82d5c479a"><a href="https://cta-redirect.hubspot.com/cta/redirect/2184645/34aa4987-a1f9-438a-a145-d7d82d5c479a"><img class="hs-cta-img" id="hs-cta-img-34aa4987-a1f9-438a-a145-d7d82d5c479a" src="../Images/7c86296320eb01b215d8e2755e9c5b9d.png" alt="Use Fairwinds Insights for Free Security, Cost and Developer Enablement In One" data-original-src="https://no-cache.hubspot.com/cta/default/2184645/34aa4987-a1f9-438a-a145-d7d82d5c479a.png"/></a></span>T6】</span></p></span></div>    
</body>
</html>