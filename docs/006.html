<html>
<head>
<title>Fairwinds Insights Reaches 3.0</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>Fairwinds Insights达到3.0</h1>
<blockquote>原文：<a href="https://www.fairwinds.com/blog/fairwinds-insights-3.0#2022-12-08">https://www.fairwinds.com/blog/fairwinds-insights-3.0#2022-12-08</a></blockquote><div><span id="hs_cos_wrapper_post_body" class="hs_cos_wrapper hs_cos_wrapper_meta_field hs_cos_wrapper_type_rich_text" data-hs-cos-general-type="meta_field" data-hs-cos-type="rich_text"><p>我很高兴地宣布Fairwinds Insights的下一个主要版本！</p>

<p><a href="/insights" rel="noopener"> Fairwinds Insights </a>是Kubernetes中的一个政策执行和审计平台。它附带了十几个与开源工具的集成，如<a href="https://github.com/FairwindsOps/polaris"> <span>【北极星】</span> </a>、<a href="https://github.com/aquasecurity/trivy"> <span> Trivy </span> </a>和<a href="https://www.openpolicyagent.org/"> <span> OPA </span> </a>，并且可以在CI中检查您的基础架构代码，通过准入控制保护您的集群，或者作为集群内代理运行，为您提供对安全性、效率和可靠性问题的持续监控。</p>
<p>Insights已经抛出了许多关键数据，因此在这个版本中，我们专注于帮助您可视化、导航和分类这些数据的方法。以下是3.0中的几个主要特性。</p>
<h2><strong> New Navbar </strong></h2>
<p><strong><span><img src="../Images/eee96a0469da6068fb8ed5824638979c.png" loading="lazy" alt="screenshot of new navigation bar in Fairwinds Insights" data-original-src="https://lh6.googleusercontent.com/y2Ph7GCs-BOwGLtfDsESGL-JwiGbMmA3G2F4PDXk6q4QhyzVdf39yR8EByzVOCvqZMfoQ-WkIefLcZ0-GQQAwFxWwWLvrtCEy_2bZEc5ABO98sQ3dwRvlQp4Q_qm-YHYGj7pnCa1"/></span>T4】</strong></p>
<p>当Insights最初构思的时候，我是唯一一个从事这项工作的人。我很快拼凑了一个带有水平导航的UI，这对于两三个可用的特性来说已经足够了。</p>
<p>两年后，特性集已经发展到我们空间不足的地步！值得庆幸的是，我们现在有一位出色的UI/UX设计师与我们合作，他能够从头开始重新想象我们应用程序的信息层次:</p>
<ul>
<li aria-level="1">
<p>顶部允许您切换上下文，在不同的Kubernetes集群和基础设施即代码存储库之间移动</p>
</li>
<li aria-level="1">
<p>中间部分允许您在给定的上下文中导航</p>
</li>
<li aria-level="1">
<p>在底部，您可以注销、查看不同的组织或找到文档的有用链接</p>
</li>
</ul>
<p>新的导航更接近其他云原生SaaS产品，如Datadog或谷歌云控制台，所以用户应该感觉更熟悉。如果这些产品是任何指标，新的垂直导航将允许我们在未来几年增长应用程序。</p>
<h2><strong>资源监控</strong></h2>
<p>Fairwinds Insights已经有了与成本和资源使用相关的功能，但数据相当粗糙:我们利用<a href="https://github.com/fairwindsops/goldilocks"><span/></a>来维护每个工作负载的CPU和内存使用的运行平均值、最小值和最大值。对于稳定的工作负载，这允许我们提供合理的建议，说明应该在哪里设置限制和请求；但是对于使用高峰的工作负载，我们需要更多的信息。</p>
<p>为了解决这个问题，我们引入了<a href="https://insights.docs.fairwinds.com/reports/resource-metrics/"> <span>普罗米修斯收集器报告</span> </a>，它每30秒捕获一次CPU和内存使用情况的信息。我们保留了两周的数据，因此您可以看到您的使用量在一天或一周内的变化。</p>
<p><img src="../Images/e48fe1c2b8d5039df235866ac858bfdc.png" loading="lazy" alt="Fairwinds Insights Memory Actual Usage Screenshot" data-original-src="https://lh5.googleusercontent.com/0SvsDDWQcdARAqRgHi2KkJ080NjzdH2VDuRSeqkVDGyPoKuuVUH9HswgWNdBBgsP9zZ-nD6nFtO60-WFLXUAQvWcpKZvPm79lIDrErK4Kq6IBJpUF1Bc1fOdneRUY_SnMK_Ok_XH"/></p>
<p>通过在您当前的请求和限制旁边显示这些信息，您可以很容易地看到它们设置得有多好。例如，在上面的图表中，因为线条大部分在蓝色阴影区域内，我们可以得出结论，我们已经为内存请求和限制选择了好的值；工作负载最多使用大约75%的内存限制，平均来说至少使用我们所要求的内存。</p>
<p>相比之下，在下图中，线条远低于蓝框，这表明该工作负载已被过度调配，并且我们的成本可能超过了需要:</p>
<p><img src="../Images/2ebe96eb28395fe0492813fbf56eb0d4.png" loading="lazy" alt="Fairwinds Insights Memory Actual Usage Visualization to save money and maintain a more stable environment." data-original-src="https://lh3.googleusercontent.com/fSPmcxUJqYsqiP3sMNpq1HNIskoriCUIgCtCQ_cMlaO44DOjZ8kCYstgSPgYWXjQQ4Xf0rpdx0s6AVjfzBWmrobN1D7G1KSUMv31QC9jf3thaCZZKeeh8bTqKPPAs3i0rAOltDjI"/></p>
<p>有了所有这些额外的数据，加上一些聪明的可视化，我们的用户能够更好地调整他们的工作负载，这使他们既能节省资金，又能维护一个更稳定的环境。</p>
<p>如果您想尝试一下，请登录您的Insights帐户，并通过报告中心将Prometheus Collector报告添加到您的集群。</p>
<h2><strong>自动化规则</strong></h2>
<p>我们得到的关于洞察力的最常见的反馈之一是，庞大的数据量可能会让人不知所措。此外，Fairwinds Insights生成的许多行动项目不是立即可操作的——它们由第三方或核心Kubernetes基础架构控制。</p>
<p>为了帮助解决这个问题，我们引入了自动化规则，它允许您基于某些规则自动地对行动项目进行分类。例如，您可能希望忽略在<span> kube-system </span>名称空间中出现的任何问题，因为这是由Kubernetes本身控制的。为此，您可以编写一些JavaScript代码:</p>
<pre><code>if (ActionItem.ResourceNamespace === 'kube-system') {<br/><br/>  ActionItem.Resolution = WILL_NOT_FIX_RESOLUTION;<br/><br/>}</code></pre>
<p>这是开始减少生成的数据量的有效方法，这样您就可以专注于对您的组织最重要的问题。</p>
<p>您还可以使用自动化规则向Slack发送通知，如果(例如)您的生产集群中出现了严重的漏洞。我们计划继续扩展这个功能，包括创建GitHub和吉拉票，或者发送任意的HTTP请求。</p>
<p>要开始使用自动化规则，<a href="https://insights.docs.fairwinds.com/features/rules/"> <span>查看文档</span> </a>。</p>
<h2><strong> OPA政策UI </strong></h2>
<p>虽然我们在2.0中增加了对OPA策略的支持，但策略管理完全是通过CLI控制的。虽然我们仍然认为这应该是主要流程(因为它允许您将策略存储在基础设施即代码存储库中)，但我们已经构建了一个用户界面来帮助您查看和管理策略。</p>
<p> </p>
<p><img src="../Images/0fd365e05a6cb69ed55224ceed38c3a6.png" loading="lazy" alt="Fairwinds Insights OPA Policy UI" data-original-src="https://lh4.googleusercontent.com/shQ27IieuiltYqbzl1QQ7ubzVC1XKqG5mr_-W7l24C963tplc5AJrjdrT4V5o6-Pyb2peqMNV02zbH6xDSSrdxHTto3BYu_5V2SKnpUnmc5wIp578W9o_r-3QbBC2p63fJtIarAQ"/></p>
<p>这将帮助用户更快地实现OPA策略的价值，并帮助他们实时查看、编辑和启用/禁用他们的策略。</p>
<p>我们还提供了一个不断扩大的策略库，供您克隆和修改:</p>
<p><img src="../Images/0e760564fe70ee065df0da655a85e631.png" loading="lazy" alt="Fairwinds Insights library of policies screenshot" data-original-src="https://lh4.googleusercontent.com/cw6l6ahuh1FCxjXN--sRv7m2rcs9C8KAzbOV3aXDUpt5s6uQ6xGJfP33SYhX6GcMV_akhxJ8_Xg06w5M0bvl6eASNoT22mupLspveGs6MKIQZtyTwYf5l0oP71IbzXbmGjF2E17R"/></p>
<p><a href="https://insights.docs.fairwinds.com/features/policy/"> <span>阅读文档</span> </a>了解更多。</p>
<h2><strong>向前移动</strong></h2>
<p>我对我们在Fairwinds Insights上取得的进展感到非常兴奋。在创建了一个强大的MVP，能够解决任何人的Kubernetes集群的安全性、效率和可靠性问题之后，我们做了大量工作，使这些发现更具可操作性和可理解性。</p>
<blockquote>
<p>对使用Fairwinds Insights感兴趣吗？免费提供！点击此处了解更多信息。</p>
</blockquote>
<p>在接下来的一个季度，我们将继续完善我们的用户界面，提供更多可视化效果和定制结果的方式，并将继续关注我们可以连接到报告中心的新的有趣的开源工具。敬请期待！</p>
<p><span class="hs-cta-wrapper" id="hs-cta-wrapper-d329e036-9905-4715-85b8-31a98b50623c"><span class="hs-cta-node hs-cta-d329e036-9905-4715-85b8-31a98b50623c" id="hs-cta-d329e036-9905-4715-85b8-31a98b50623c"><a href="https://cta-redirect.hubspot.com/cta/redirect/2184645/d329e036-9905-4715-85b8-31a98b50623c"><img class="hs-cta-img" id="hs-cta-img-d329e036-9905-4715-85b8-31a98b50623c" src="../Images/90e93a941f22f2087c3a229a91ea6c10.png" alt="Fairwinds Insights is Available for Free Sign Up Now" data-original-src="https://no-cache.hubspot.com/cta/default/2184645/d329e036-9905-4715-85b8-31a98b50623c.png"/></a></span>T6】</span></p></span></div>    
</body>
</html>