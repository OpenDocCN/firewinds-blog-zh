<html>
<head>
<title>Strengths and Weaknesses of AKS, EKS and GKE</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>AKS、EKS和GKE的优势和劣势</h1>
<blockquote>原文：<a href="https://www.fairwinds.com/blog/strengths-and-weaknesses-of-aks-eks-and-gke#2022-12-12">https://www.fairwinds.com/blog/strengths-and-weaknesses-of-aks-eks-and-gke#2022-12-12</a></blockquote><div><span id="hs_cos_wrapper_post_body" class="hs_cos_wrapper hs_cos_wrapper_meta_field hs_cos_wrapper_type_rich_text" data-hs-cos-general-type="meta_field" data-hs-cos-type="rich_text"><p>在选择AKS、EKS或GKE这样的托管Kubernetes服务时，最好了解它们各自的优势和劣势。所有这些服务都解决了如何轻松部署Kubernetes的问题，但在如何正确配置集群或有效利用服务方面有所不同。通过了解这些优点和缺点，您可以为您的应用程序选择合适的服务，还可以节省学习多种服务及其具体细节的时间。</p>

<p>作为免责声明，如果有人问我用什么，我会反过来问你的应用程序在做什么，它依赖什么服务。Kubernetes并不是您的应用程序唯一需要的东西，因此您需要考虑需求——例如安全性、额外的云服务和节点定制。在这篇博客中没有深入探讨，这里有一个高层次的总结。如果您确实想讨论您的具体应用，请随时<a href="https://www.fairwinds.com/contact-us">联系</a>。</p>
<p><strong>TL；大卫:如果你是Windows或者。网店或者已经在用Azure如果你需要高水平的定制，EKS是不错的选择；GKE易于上手和使用。</strong></p>
<h3><strong> <span>所有被管理的库伯内的优势</span> </strong></h3>
<ul>
<li>选择阿克苏、EKS或GKE可以让你不用担心维护Kubernetes州或其API。每个托管服务从视图中抽象出控制平面。运营商只需担心选择合适的服务器类型来运行其工作负载。</li>
<li>每个托管的Kubernetes服务都完全支持其底层云提供商。这使得Kubernetes能够代表您创建云资源——比如负载平衡器或持久存储。虽然你可以从头开始运行Kubernetes，但在Azure/AWS/GCP上运行同时与云服务无缝交互可能是一个挑战。</li>
<li>所有的提供者都支持私有节点和私有API。从Kubernetes安全性的角度来看，这些产品非常相似。然而，有时容器工作负载需要许可才能与云提供商API进行交互。每个提供者都有自己的服务帐户和IAM层次结构。无论选择哪家提供商，您都需要了解其安全术语和最佳实践。</li>
</ul>
<h3><strong>所有Kubernetes服务的弱点</strong></h3>
<ul>
<li>所有供应商都依赖上游Kubernetes的开发。Kubernetes的发展速度越来越快。每个服务提供商必须跟上发展的步伐，特别是因为Kubernetes只是修补了最近的三个周期。如果你还在1.15版本，不要指望任何补丁支持。</li>
<li>对于每项服务，您都无法配置控制平面。这限制了操作员打开/关闭Kubernetes API功能的能力。例如，如果有您的Kubernetes版本支持的alpha特性或配置标志——它不能在托管服务提供商上启用。</li>
<li>对所有提供商来说，在集群内外自动扩展服务器都是一项挑战。每个服务都利用一个叫做<a href="https://github.com/kubernetes/autoscaler" rel="noopener" target="_blank">集群自动缩放器</a>的工具。虽然集群自动伸缩功能做得很好，但它的功能确实有限。了解这些限制并能够在您选择的云提供商上解释这些限制非常重要。例如，集群自动缩放不支持分区。如果节点池跨越多个可用性区域，这可能会导致节点不平衡。由于这一限制，您可能希望为每个可用性分区运行单个节点池或自动扩展组。</li>
<li>最后，虽然所有三个提供商都已被认证为CNCF Kubernetes一致性，但没有一个是直接从源代码运行的-它们是预打包的，并引入了额外的功能。这并不是一个真正的弱点，但是在比较托管服务和Kubernetes代码库时，您可能会遇到一些不一致的地方。</li>
</ul>
<h2><strong>AK、EKS、GKE的优势和劣势</strong></h2>
<p>按字母顺序，这里是一个快速总结AK，EKS和GKE。这不是一个详尽的列表，可以作为一些优势或劣势进行讨论，您可能会将其视为您的个人应用程序的优势。</p>
<h3><strong>AK强项</strong></h3>
<ul>
<li>如果你是. NET或者微软的店家，AKS对Windows有一流的支持。</li>
<li>配置虚拟网络和子网很简单。</li>
<li>使用az cli提供强大的命令行支持。</li>
<li>集成日志和监控解决方案。</li>
<li>Azure Active Directory集成用于集群身份验证。</li>
</ul>
<h3><strong> AKS弱点</strong></h3>
<ul>
<li>与GKE和EKS相比，AKS相对较新。因此，许多功能仍处于测试阶段。</li>
<li>在Fairwinds，我们支持将基础设施作为代码，大量使用Terraform。Azure Terraform provider并不完全支持所有的Azure APIs，所以有一些问题。az命令行工具可以用来补充Terraform。</li>
<li>您对可以运行的底层操作系统的选择是有限的。唯一的选择就是Linux (Ubuntu)和Windows Server。虚拟机不直接支持定制，也无法提供云初始化或用户数据脚本。</li>
<li>部署群集时，您必须运行默认节点池，它必须始终存在，并且一旦部署，您就不能更改服务器类型。</li>
<li>对多节点池的支持是一项预览功能。</li>
<li>与GKE自动更新相比，节点更新不是自动的。</li>
<li>与GKE自动恢复相比，节点不会从kubelet故障中自动恢复。</li>
</ul>
<h3><strong> EKS的强项</strong></h3>
<ul>
<li>AWS非常成熟，像Terraform这样的工具集成得很好。亚马逊已经发布并维护了一套非常健壮的EKS Terraform模块，具有许多特性。如果你只需要和EKS交互，有一个官方的命令行工具，<a href="https://eksctl.io/" rel="noopener" target="_blank"> eksctl </a>。</li>
<li>EKS节点更加可定制。您可以使用自己的机器映像(ami)。这允许您定制您的操作系统，并根据您的具体需求配置服务器。您仍然可以选择使用预设的AMI，但有时由于安全合规性规定，这些AMI不可行。</li>
<li>AWS是使用最广泛的，并提供许多额外的云服务。大多数Kubernetes工具(DNS管理、证书管理等。)完全支持AWS集成。AWS上的Kubernetes被广泛记录，并提供了一个庞大的用户社区。</li>
</ul>
<p><strong> EKS的弱点</strong></p>
<ul>
<li>虽然创建EKS集群很简单，但添加和自定义节点池可能会很复杂。</li>
<li>与GKE自动更新相比，节点更新不是自动的。</li>
<li>与GKE自动恢复相比，节点不会从kubelet故障中自动恢复。</li>
<li>基于实例类型和子网大小的Pod密度和CNI限制。</li>
</ul>
<h3><strong> GKE的强项</strong></h3>
<ul>
<li>GKE让部署Kubernetes集群变得非常容易。命令行工具和web控制台都非常友好。</li>
<li>更新群集版本和节点池是一个简单的单击过程。也可以将版本设置为在可能的情况下自动更新。</li>
<li>节点池可以配置为自我修复，防止在底层kubelet出现问题时进行手动干预。</li>
<li>GKE·切里挑出bug，CVE修复到他们发布的Kubernetes版本中。这样做的缺点是，如果用户运行的是GKE版本的1.15.9，并且他们想查看Kubernetes代码，他们不能完全确定代码没有被修改。</li>
</ul>
<h3><strong> GKE的弱点</strong></h3>
<ul>
<li>您不能自定义您的服务器配置。你必须使用他们提供的两种服务器类型之一:Container OS或Ubuntu。您不能选择版本或内核版本。如果你想在底层硬件上进行更深层次的定制，你不能用GKE来实现。</li>
<li>GKE运行的托管集群插件(kube-dns、ip-masq-agent等)对于最终用户来说并不是可配置的。它们不能被修改以使用节点选择器或容错。对这些插件所做的任何更改都将被还原。</li>
<li>虽然不是一个巨大的弱点，GKE有区域集群的概念。默认情况下，群集的控制平面(主)和节点都在您创建群集时指定的单个计算区域中运行。创建集群后，这一点无法更改。如果您需要一个生产就绪的GKE集群，请确保创建一个区域集群。</li>
</ul>
<h2><strong> Fairwinds + EKS、GKE或AKS </strong></h2>
<p>利用托管的Kubernetes服务并不等同于有效地使用Kubernetes。Fairwinds帮助使用AKS、EKS或GKE的公司正确配置集群，并有效利用该服务。</p>
<blockquote>
<p>使用Fairwinds Insights，在一个平台中免费获得Kubernetes安全性、成本分配和规避、合规性和护栏。</p>
</blockquote>
<p>了解更多关于Fairwinds对AKS、EKS或GKE的贡献。</p>
<p><span class="hs-cta-wrapper" id="hs-cta-wrapper-4f92c7e1-1646-4985-9a0a-b1091903dddb"><span class="hs-cta-node hs-cta-4f92c7e1-1646-4985-9a0a-b1091903dddb" id="hs-cta-4f92c7e1-1646-4985-9a0a-b1091903dddb"><a href="https://cta-redirect.hubspot.com/cta/redirect/2184645/4f92c7e1-1646-4985-9a0a-b1091903dddb"><img class="hs-cta-img" id="hs-cta-img-4f92c7e1-1646-4985-9a0a-b1091903dddb" src="../Images/b53e4ee22b6ef19bc06a035649ea1dc6.png" alt="Free Download: Kubernetes Best Practices Whitepaper" data-original-src="https://no-cache.hubspot.com/cta/default/2184645/4f92c7e1-1646-4985-9a0a-b1091903dddb.png"/></a></span>T6】</span></p></span></div>    
</body>
</html>