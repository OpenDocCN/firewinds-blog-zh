<html>
<head>
<title>Kubernetes Best Practices for Security</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>Kubernetes安全性最佳实践</h1>
<blockquote>原文：<a href="https://www.fairwinds.com/blog/kubernetes-best-practices-for-security#2022-12-12">https://www.fairwinds.com/blog/kubernetes-best-practices-for-security#2022-12-12</a></blockquote><div><span id="hs_cos_wrapper_post_body" class="hs_cos_wrapper hs_cos_wrapper_meta_field hs_cos_wrapper_type_rich_text" data-hs-cos-general-type="meta_field" data-hs-cos-type="rich_text"><p>Kubernetes是主流的容器编排解决方案。Kubernetes的天才之处在于它能够为您提供一个框架来灵活地运行分布式系统。然而，它引入了令人难以承受的复杂程度。通过遵循Kubernetes在安全性、可靠性、效率和监控方面的最佳实践，团队可以为成功过渡做好准备。在一系列的博客文章中，我们将从安全性开始讨论这些主题。</p>

<h2><strong> <span> Kubernetes最佳实践:安全性</span> </strong> <br/> <br/> Kubernetes抽象出足够的基础设施层，以便开发人员可以自由部署，同时运营团队保留对重要治理和风险控制的访问权。挑战在于Kubernetes的新开发团队可能会忽略一些关键的安全特性。通常，最简单的工作方式就是降低安全性。</h2>
<p>让我们看看三个常见的安全挑战，以及如何克服它们。</p>
<h2><strong>好的突发与坏的突发</strong></h2>
<p>Kubernetes能很好地应对交通突发——不管是好是坏。如果你看到一个合法的流量爆发，Kubernetes将扩大规模，以满足需求的增长。您的应用程序将消耗集群中的更多资源，而不会降低性能。这是一个很大的好处。然而，在拒绝服务(DoS)攻击的情况下，Kubernetes将做完全相同的事情，而您将为这种流量过载付出代价。</p>
<h3>K8S最佳实践# 1–针对以下方面设定限制:</h3>
<ul>
<li>每个IP地址的并发连接数</li>
<li>每个用户每秒、每分钟或每小时可以发出的请求数</li>
<li>请求主体的大小</li>
<li>并为各个主机名和路径调整这些限制</li>
</ul>
<h2><strong>授予安全访问级别</strong></h2>
<p>部署新应用程序或供应新用户的最简单方法是放弃管理权限。但这也是最危险的方式——如果攻击者获得了该帐户的访问权限，他们就可以访问所有内容。</p>
<h3><span> K8S最佳实践# 2</span>–<span>采用基于角色的访问控制(RBAC)来遵守最小特权原则。</span></h3>
<p><span> RBAC允许您授予用户对Kubernetes API资源的细粒度访问权限。您应该使用<code>Roles</code>或<code>ClusterRoles.</code>定义访问配置文件，使用<code>Roles,</code>您将授予对单个名称空间的访问权限。使用<code>ClusterRoles,</code>，你可以授权访问没有名称空间的资源，比如<code>Nodes</code>和<code>PersistentVolumes</code>以及所有有名称空间的资源。<br/> </span></p>
<p>虽然RBAC配置可能会令人困惑和冗长，但像<a href="https://github.com/FairwindsOps/rbac-manager"> rbac-manager </a>这样的工具可以帮助简化语法。这有助于防止错误，并为谁有权访问什么提供更清晰的感觉。</p>
<p>最终结果？通过只授予工作负载完成工作所需的权限，可以限制攻击者对Kubernetes环境造成的损害。</p>
<h2><strong>保守Kubernetes的秘密，秘密</strong></h2>
<p>如果您使用的是Kubernetes基础设施即代码(IaC)模式，那么拥有一个完全可复制的环境会让您受益匪浅。但是有一个问题——您的基础设施可能包括Kubernetes <code>Secrets,</code>,它存储和管理敏感信息，比如密码、OAuth令牌和ssh密钥。您不应该将<code>Secrets</code>添加到您的IaC存储库中。</p>
<p>将您的Kubernetes <code>Secrets</code>签入到您的基础设施即代码存储库中，以便您的构建是100%可重复的，这很有诱惑力。但如果你在乎安全，就不要。一旦签入，您的<code>Secrets</code>将永久地暴露给任何能够访问您的Git存储库的人。</p>
<h3>K8S最佳实践# 3——在将秘密签入基础设施存储库之前，对它们进行加密。</h3>
<p>解决方案是分割差异:加密你所有的秘密，这样你就可以安全地将它们签入你的存储库，而不用担心暴露它们。然后，您将只需要访问一个加密密钥来“解锁”您的IaC存储库，并拥有完全可复制的基础设施。像Mozilla的SOPS这样的开源工具可以在这方面有所帮助。</p>
<p>您可以通过查看我们如何为客户的托管Kubernetes部署实施安全性来阅读更多的<a href="/kubernetes-security-best-practices" rel="noopener"> Kubernetes安全性最佳实践</a>。</p>
<p>您还可以查看<a href="/blog/kubernetes-best-practice-efficient-resource-utilization" rel=" noopener"> Kubernetes关于效率的最佳实践</a>。寻找一个完整的Kubernetes治理平台？Fairwinds Insights是免费的。<a href="/coming-soon" rel="noopener">今天开始</a>。</p>
<p> </p>
<p><span class="hs-cta-wrapper" id="hs-cta-wrapper-e68d92d3-c876-4525-b775-6123e46c7212"><span class="hs-cta-node hs-cta-e68d92d3-c876-4525-b775-6123e46c7212" id="hs-cta-e68d92d3-c876-4525-b775-6123e46c7212"><a href="https://cta-redirect.hubspot.com/cta/redirect/2184645/e68d92d3-c876-4525-b775-6123e46c7212"><img class="hs-cta-img" id="hs-cta-img-e68d92d3-c876-4525-b775-6123e46c7212" src="../Images/ff6b63b515c18edd13b80bc25f17c2de.png" alt="Download the Kubernetes Best Practices Whitepaper" data-original-src="https://no-cache.hubspot.com/cta/default/2184645/e68d92d3-c876-4525-b775-6123e46c7212.png"/></a></span>T6】</span></p></span></div>    
</body>
</html>