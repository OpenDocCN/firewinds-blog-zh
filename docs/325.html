<html>
<head>
<title>Manage Open Policy Agent (OPA) Consistently</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>一致地管理开放策略代理(OPA)</h1>
<blockquote>原文：<a href="https://www.fairwinds.com/blog/manage-open-policy-agent-opa-consistently#2022-12-05">https://www.fairwinds.com/blog/manage-open-policy-agent-opa-consistently#2022-12-05</a></blockquote><div><span id="hs_cos_wrapper_post_body" class="hs_cos_wrapper hs_cos_wrapper_meta_field hs_cos_wrapper_type_rich_text" data-hs-cos-general-type="meta_field" data-hs-cos-type="rich_text"><p>上周，CNCF宣布开放策略代理(OPA)的毕业，这是一个开源的通用策略引擎，能够在整个堆栈中实施统一的上下文感知策略。这是一个超级令人兴奋的项目，它帮助任何负责团队、合规性和安全性的人在Kubernetes中应用它。</p>

<p>而且正在被利用！在一项针对150多家组织的OPA用户调查 中，91%的组织表示他们在从QA到生产的OPA采用阶段使用OPA。超过一半的人表示他们至少在两种情况下使用OPA。OPA最常见的用例是配置授权(比如Kubernetes准入控制)和API授权。</p>
<h2><strong>在Kubernetes中实施政策</strong></h2>
<p>OPA的势头证明，我们需要对Kubernetes集群中发生的事情进行更多的控制和了解。因此，虽然OPA在Kubernetes策略执行方面提供了大量的功能，但它也需要技术知识和时间来跨多个团队和多集群应用策略。</p>
<p>最新的<a href="https://www.cncf.io/wp-content/uploads/2020/11/CNCF_Survey_Report_2020.pdf"> <span> CNCF调查</span> </a>显示，大多数人在生产中运行2-5个集群。然而，有更多的团队在运行。</p>
<p><img src="../Images/722ee6c67e08fea8d9a1b1e4e854b95d.png" alt="Graph of the average production clusters showing that on average 2-5 clusters are deployed" data-original-src="https://lh6.googleusercontent.com/Dbw7hKRy7b45SepB6tI837EFO3zC_Ks69pwsh2Y_j7nrb6_BEPyk7IySJPLXcDPdnklozz-gHWQpjMdlGNbNpL91p2PXdu4xij6HxB-V2MgbLruJGEz8t54UNZDdlGVORUE1jFZF"/></p>
<p>如果您负责管理10个或20个集群，您如何确保您的OPA策略在所有集群中保持一致？你需要多少时间和资源以及你愿意接受的人为错误来管理这个令人头痛的问题？</p>
<h2><strong>持续管理OPA </strong></h2>
<p>当OPA得到一致应用时，通过允许您围绕用户访问、子网出口流量许可、工作负载部署、可下载的注册表二进制文件或基于一天中的时间的系统访问设置定制策略，OPA将使您的应用和Kubernetes基础设施受益。您将能够创建和实施对您的业务非常重要的策略。</p>
<p>仍然需要的是一种一致地实施OPA的方法，尤其是如果您正在管理一个团队或者需要证明合规性/安全性的话。</p>
<p>这就是Fairwinds Insights要解决的问题。我们在Fairwinds Insights的每个部分都增加了对OPA策略的支持，包括CI/CD管道、准入控制器和集群内代理。</p>
<p><a href="//www.fairwinds.com/insights"><span>fair winds Insights</span></a>是一款针对安全性、效率和可靠性检查来检查集群配置的软件。它将许多开源项目的智能，包括OPA、Polaris、Goldilocks、Trivy等等，结合到一个集中的仪表板中。如果你负责确保Kubernetes的配置是正确和一致的，你将能够在任何时间点看到什么需要修复。</p>
<blockquote>
<p>使用Fairwinds Insights，在一个平台中免费获得Kubernetes安全性、成本分配和规避、合规性和护栏。</p>
</blockquote>
<p>当与OPA一起使用时，Fairwinds Insights可帮助您确保在所有集群中应用相同的策略，并且如果您希望某些策略仅应用于某些工作负载(例如，仅在prod集群上运行)，则可提供一定的灵活性。它还允许您在CI/CD、准入控制和集群内扫描中运行相同的策略，因此您可以在整个开发和部署过程中一致地应用策略。</p>
<p>Insights可以采用相同的OPA策略，并将它们联合到所有三个上下文，以及您想要的任意多个集群。您将受益于跨集群一致地自动化、管理和执行Kubernetes策略的能力。</p>
<p>您可以阅读更多内容并查看一些截图，了解如何使用Fairwinds Insights  管理<a href="https://www.fairwinds.com/blog/managing-opa-policies-with-fairwinds-insights"> <span> OPA政策。</span></a></p>
<p><span class="hs-cta-wrapper" id="hs-cta-wrapper-d329e036-9905-4715-85b8-31a98b50623c"><span class="hs-cta-node hs-cta-d329e036-9905-4715-85b8-31a98b50623c" id="hs-cta-d329e036-9905-4715-85b8-31a98b50623c"><a href="https://cta-redirect.hubspot.com/cta/redirect/2184645/d329e036-9905-4715-85b8-31a98b50623c"><img class="hs-cta-img" id="hs-cta-img-d329e036-9905-4715-85b8-31a98b50623c" src="../Images/90e93a941f22f2087c3a229a91ea6c10.png" alt="Fairwinds Insights is Available for Free Sign Up Now" data-original-src="https://no-cache.hubspot.com/cta/default/2184645/d329e036-9905-4715-85b8-31a98b50623c.png"/></a></span>T6】</span></p></span></div>    
</body>
</html>